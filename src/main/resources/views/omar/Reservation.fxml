<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.Glow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<VBox prefHeight="962.0" prefWidth="611.0" style="-fx-background-color: #141414; -fx-padding: 20;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="chechia.tn.controllers.omar.ReservationFXController">

    <!-- Netflix-style Header with Logo -->
    <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 0 0 20 0;">
        <ImageView fitHeight="60.0" fitWidth="60.0" preserveRatio="true">
            <image>
                <Image url="@/chechia/tn/images/chechia.png" />
            </image>
            <effect>
                <Glow level="0.8">
                    <input>
                        <DropShadow color="#e50914" radius="10" spread="0.3" />
                    </input>
                </Glow>
            </effect>
        </ImageView>
        <VBox alignment="CENTER_LEFT" spacing="5">
            <Label style="-fx-text-fill: #e50914; -fx-font-size: 32px; -fx-font-weight: BOLD; -fx-font-family: 'Arial';" text="RESERVATIONS">
                <effect>
                    <DropShadow color="#e50914" radius="10" spread="0.2" />
                </effect>
            </Label>
            <Label style="-fx-text-fill: #ffffff; -fx-font-size: 18px;" text="Gestion des Réservations Premium" />
        </VBox>
    </HBox>

    <!-- Content Container with Glow Effect -->
    <VBox style="-fx-background-color: #1a1a1a; -fx-background-radius: 8; -fx-padding: 20; -fx-border-color: #333; -fx-border-radius: 8;">
        <effect>
            <Glow level="0.1" />
        </effect>


        <!-- Data Table Section -->
        <Label style="-fx-text-fill: #ffffff; -fx-font-size: 16px; -fx-font-weight: BOLD; -fx-padding: 0 0 10 0;" text="VOS RÉSERVATIONS" />

        <TableView fx:id="reservationTable" style="-fx-background-color: transparent; -fx-border-color: #333;">
            <columns>
                <TableColumn fx:id="idColumn" style="-fx-text-fill: #f0f0f0; -fx-font-weight: BOLD;" text="ID" />
                <TableColumn fx:id="eventIdColumn" style="-fx-text-fill: #ffffff;" text="ÉVÉNEMENT" />
                <TableColumn fx:id="userIdColumn" style="-fx-text-fill: #ffffff;" text="UTILISATEUR" />
                <TableColumn fx:id="nombrePersonnesColumn" style="-fx-text-fill: #333333;" text="PERSONNES" />
                <TableColumn fx:id="dateReservationColumn" style="-fx-text-fill: #333333;" text="TÉLÉPHONE" />
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
            <style>
                -fx-control-inner-background: #1a1a1a;
                -fx-table-cell-border-color: transparent;
            </style>
        </TableView>

        <!-- Action Buttons Row -->
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 15 0 0 0;">
            <Button fx:id="refreshButton" onAction="#handleRefresh" style="-fx-background-color: #333; -fx-text-fill: white; -fx-font-weight: BOLD; -fx-cursor: hand; -fx-padding: 10 20;" text="ACTUALISER">
                <effect>
                    <Glow level="0.3" />
                </effect>
            </Button>
            <Button fx:id="verifyButton" onAction="#handleVerifyIds" style="-fx-background-color: #e50914; -fx-text-fill: white; -fx-font-weight: BOLD; -fx-cursor: hand; -fx-padding: 10 20;" text="VÉRIFIER IDs">
                <effect>
                    <Glow level="0.3" />
                </effect>
            </Button>
        </HBox>

        <!-- Form Section -->
        <VBox spacing="15" style="-fx-padding: 20 0 0 0;">
            <Label style="-fx-text-fill: #ffffff; -fx-font-size: 16px; -fx-font-weight: BOLD;" text="NOUVELLE RÉSERVATION" />
            <Separator style="-fx-background-color: #333;" />

            <GridPane hgap="20" vgap="15">
                <!-- Row 0 -->
                <Label style="-fx-text-fill: #e50914; -fx-font-weight: BOLD;" text="ID Événement:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <TextField fx:id="eventIdField" promptText="ID de l'événement" style="-fx-prompt-text-fill: #666; -fx-text-fill: white; -fx-background-color: #333; -fx-background-radius: 4;" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                <!-- Row 1 -->
                <Label style="-fx-text-fill: #e50914; -fx-font-weight: BOLD;" text="ID Utilisateur:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <TextField fx:id="userIdField" promptText="ID de l'utilisateur" style="-fx-prompt-text-fill: #666; -fx-text-fill: white; -fx-background-color: #333; -fx-background-radius: 4;" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                <!-- Row 2 -->
                <Label style="-fx-text-fill: #e50914; -fx-font-weight: BOLD;" text="Nombre de Personnes:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                <TextField fx:id="nombrePersonnesField" promptText="Nombre" style="-fx-prompt-text-fill: #666; -fx-text-fill: white; -fx-background-color: #333; -fx-background-radius: 4;" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                <!-- Row 3 -->
                <Label style="-fx-text-fill: #e50914; -fx-font-weight: BOLD;" text="Numéro Téléphone:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                <TextField fx:id="dateReservationField" promptText="Numéro de téléphone" style="-fx-prompt-text-fill: #666; -fx-text-fill: white; -fx-background-color: #333; -fx-background-radius: 4;" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                <columnConstraints>
                    <ColumnConstraints hgrow="NEVER" prefWidth="200" />
                    <ColumnConstraints hgrow="ALWAYS" />
                </columnConstraints>
                <rowConstraints>
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                </rowConstraints>
            </GridPane>

            <!-- Form Action Buttons -->
            <HBox alignment="CENTER_RIGHT" spacing="15" style="-fx-padding: 20 0 0 0;">
                <Button fx:id="clearButton" onAction="#handleClear" style="-fx-background-color: #333; -fx-text-fill: white; -fx-font-weight: BOLD; -fx-cursor: hand; -fx-padding: 10 20;" text="EFFACER" />
                <Button fx:id="addButton" onAction="#handleAdd" style="-fx-background-color: #e50914; -fx-text-fill: white; -fx-font-weight: BOLD; -fx-cursor: hand; -fx-padding: 10 20;" text="AJOUTER">
                    <effect>
                        <Glow level="0.3" />
                    </effect>
                </Button>
                <Button fx:id="updateButton" onAction="#handleUpdate" style="-fx-background-color: #e50914; -fx-text-fill: white; -fx-font-weight: BOLD; -fx-cursor: hand; -fx-padding: 10 20;" text="MODIFIER" />
                <Button fx:id="deleteButton" onAction="#handleDelete" style="-fx-background-color: #333; -fx-text-fill: #e50914; -fx-font-weight: BOLD; -fx-cursor: hand; -fx-padding: 10 20;" text="SUPPRIMER" />
            </HBox>
        </VBox>
    </VBox>
</VBox>
